# 2장 OSI 7계층 모델

## 목차
- [[#2.1 OSI 모델 개요]]
- [[#2.2 OSI 7계층 구조]]
- [[#2.3 각 계층별 상세 기능]]
- [[#2.4 계층간 데이터 전송 과정]]
- [[#2.5 TCP/IP 모델과의 비교]]
- [[#2.6 캡슐화와 역캡슐화]]
- [[#연습문제]]

---

## 2.1 OSI 모델 개요

### OSI 모델이란?
**OSI (Open Systems Interconnection) 참조 모델**은 ISO(국제표준화기구)에서 1984년에 발표한 네트워크 통신을 위한 표준 참조 모델이다.

### OSI 모델의 목적
1. **표준화**: 서로 다른 시스템 간의 상호 운용성 확보
2. **모듈화**: 복잡한 네트워크 기능을 계층별로 분리
3. **독립성**: 각 계층의 독립적인 개발과 수정 가능
4. **교육적 목적**: 네트워크 구조의 체계적 이해

### OSI 모델의 특징
- **계층적 구조**: 7개 계층으로 구성
- **서비스 인터페이스**: 상하 계층 간 명확한 인터페이스 정의
- **프로토콜 독립성**: 각 계층별 프로토콜 독립 구현
- **표준 참조 모델**: 실제 구현보다는 개념적 모델

---

## 2.2 OSI 7계층 구조

### 계층별 개요

| 계층 | 이름 | 영문명 | 주요 기능 | 대표 프로토콜/장비 |
|------|------|--------|-----------|-------------------|
| 7 | 응용계층 | Application | 사용자 인터페이스 | HTTP, FTP, SMTP |
| 6 | 표현계층 | Presentation | 데이터 표현, 암호화 | SSL/TLS, JPEG, MPEG |
| 5 | 세션계층 | Session | 세션 관리 | NetBIOS, RPC, SQL |
| 4 | 전송계층 | Transport | 신뢰성 있는 전송 | TCP, UDP |
| 3 | 네트워크계층 | Network | 라우팅, 주소 지정 | IP, ICMP, 라우터 |
| 2 | 데이터링크계층 | Data Link | 프레임 전송, 오류 제어 | Ethernet, 스위치 |
| 1 | 물리계층 | Physical | 비트 전송 | 케이블, 허브, 리피터 |

### 계층 분류

#### 상위 계층 (Upper Layers)
- **계층**: 5, 6, 7계층
- **특징**: 사용자와 가까운 계층, 소프트웨어적 기능
- **역할**: 사용자 서비스 제공

#### 하위 계층 (Lower Layers)
- **계층**: 1, 2, 3, 4계층
- **특징**: 네트워크 전송과 관련된 계층
- **역할**: 데이터 전송 및 네트워크 기능

---

## 2.3 각 계층별 상세 기능

### 2.3.1 물리계층 (Physical Layer)

#### 주요 기능
- **라우팅 (Routing)**: 최적 경로 선택
- **논리적 주소 지정**: IP 주소를 통한 논리적 주소 체계
- **패킷 포워딩**: 다음 홉으로 패킷 전달
- **혼잡 제어**: 네트워크 혼잡 상황 관리

#### IP 주소 체계
**IPv4**
- **주소 길이**: 32비트 (4바이트)
- **표현 방법**: 점분 십진 표기법 (예: 192.168.1.1)
- **클래스**: A, B, C, D, E 클래스
- **서브네팅**: 네트워크를 작은 단위로 분할

**IPv6**
- **주소 길이**: 128비트 (16바이트)
- **표현 방법**: 콜론 16진 표기법
- **특징**: 주소 공간 확대, 보안 강화, QoS 지원

#### 라우팅 프로토콜
**거리 벡터 알고리즘**
- **RIP (Routing Information Protocol)**
- **특징**: 홉 수 기반, 최대 15홉
- **장점**: 구현 간단
- **단점**: 느린 수렴, 카운팅 투 인피니티

**링크 상태 알고리즘**
- **OSPF (Open Shortest Path First)**
- **특징**: 링크 상태 정보 교환, 다익스트라 알고리즘
- **장점**: 빠른 수렴, 계층적 구조 지원
- **단점**: 복잡한 구현, 높은 메모리 사용

**경로 벡터 알고리즘**
- **BGP (Border Gateway Protocol)**
- **특징**: AS 간 라우팅, 정책 기반
- **용도**: 인터넷 백본 라우팅

#### ICMP (Internet Control Message Protocol)
- **역할**: 오류 보고 및 진단
- **메시지 유형**:
  - Echo Request/Reply (ping)
  - Destination Unreachable
  - Time Exceeded
  - Redirect

#### 주요 장비
- **라우터 (Router)**: 패킷 라우팅 및 포워딩
- **L3 스위치**: 라우팅 기능을 가진 스위치
- **방화벽**: 보안 정책 기반 패킷 필터링

### 2.2.4 전송 계층 (Transport Layer)

#### 주요 기능
- **종단 간 통신**: 응용 프로세스 간 직접 통신
- **신뢰성 보장**: 오류 복구 및 순서 보장
- **흐름 제어**: 수신자 버퍼 오버플로우 방지
- **혼잡 제어**: 네트워크 혼잡 상황 관리
- **다중화**: 여러 응용의 동시 통신 지원

#### TCP (Transmission Control Protocol)
**특징**
- **연결 지향**: 3-way handshake로 연결 설정
- **신뢰성**: 순서 보장, 오류 복구, 중복 제거
- **흐름 제어**: 슬라이딩 윈도우 기법
- **혼잡 제어**: Slow Start, Congestion Avoidance

**TCP 헤더 구조**
```
| 출발지 포트 | 목적지 포트 |
| 순서 번호 (Sequence Number) |
| 확인 번호 (Acknowledgment Number) |
| 헤더길이 | 플래그 | 윈도우 크기 |
| 체크섬 | 긴급 포인터 |
| 옵션 | 패딩 |
```

**TCP 플래그**
- **SYN**: 연결 설정 요청
- **ACK**: 확인 응답
- **FIN**: 연결 종료 요청
- **RST**: 연결 재설정
- **PSH**: 즉시 전송
- **URG**: 긴급 데이터

**TCP 연결 관리**
- **3-way Handshake**: SYN → SYN+ACK → ACK
- **4-way Handshake**: FIN → ACK → FIN → ACK

#### UDP (User Datagram Protocol)
**특징**
- **비연결 지향**: 연결 설정 없이 즉시 전송
- **비신뢰성**: 오류 복구 없음, 순서 보장 없음
- **간단함**: 최소한의 오버헤드
- **실시간 특성**: 지연 시간 최소화

**UDP 헤더 구조**
```
| 출발지 포트 | 목적지 포트 |
| UDP 길이 | 체크섬 |
```

**TCP vs UDP 비교**
| 특성 | TCP | UDP |
|------|-----|-----|
| 연결성 | 연결 지향 | 비연결 지향 |
| 신뢰성 | 신뢰성 있음 | 신뢰성 없음 |
| 순서 보장 | 보장함 | 보장 안함 |
| 오버헤드 | 높음 | 낮음 |
| 속도 | 상대적으로 느림 | 빠름 |
| 용도 | 웹, 메일, 파일 전송 | 스트리밍, DNS, DHCP |

#### 포트 (Port)
- **정의**: 응용 프로그램을 식별하는 논리적 주소
- **범위**: 0 ~ 65535 (16비트)
- **분류**:
  - Well-known Ports (0-1023): 시스템 예약
  - Registered Ports (1024-49151): 등록된 포트
  - Dynamic/Private Ports (49152-65535): 동적 할당

**주요 Well-known 포트**
- HTTP: 80
- HTTPS: 443
- FTP: 20, 21
- SSH: 22
- Telnet: 23
- SMTP: 25
- DNS: 53
- DHCP: 67, 68
- POP3: 110
- IMAP: 143

### 2.2.5 세션 계층 (Session Layer)

#### 주요 기능
- **세션 관리**: 응용 간 대화 설정, 관리, 종료
- **대화 제어**: 전이중/반이중 통신 모드 제어
- **동기화**: 체크포인트 설정 및 복구
- **토큰 관리**: 동시 접근 제어

#### 세션 서비스
**연결 설정**
- 사용자 인증
- 세션 매개변수 협상
- 자원 할당

**데이터 전송**
- 대화 모드 제어 (Simplex, Half-duplex, Full-duplex)
- 동기점 삽입
- 예외 보고

**연결 해제**
- 정상 종료
- 비정상 종료
- 자원 해제

#### 주요 프로토콜
- **NetBIOS**: 네트워크 기본 입출력 시스템
- **RPC**: 원격 프로시저 호출
- **SQL**: 구조화 질의 언어 세션
- **TLS/SSL**: 보안 세션 계층

### 2.2.6 표현 계층 (Presentation Layer)

#### 주요 기능
- **데이터 표현**: 데이터 형식 변환
- **암호화/복호화**: 보안을 위한 데이터 암호화
- **압축/압축 해제**: 효율적 전송을 위한 데이터 압축
- **코드 변환**: 문자 코드 변환 (ASCII, EBCDIC, Unicode)

#### 데이터 표현 서비스
**구문 변환**
- 바이트 순서 (Big-endian vs Little-endian)
- 정수 표현 방식
- 부동 소수점 표현

**의미 변환**
- 데이터 구조 변환
- 데이터 타입 변환
- 압축 알고리즘 적용

#### 암호화 기술
**대칭 키 암호화**
- **특징**: 암호화와 복호화에 동일한 키 사용
- **장점**: 빠른 처리 속도
- **단점**: 키 배송 문제
- **예시**: DES, AES, 3DES

**공개 키 암호화**
- **특징**: 공개키와 개인키 쌍 사용
- **장점**: 키 배송 문제 해결
- **단점**: 느린 처리 속도
- **예시**: RSA, ECC, DSA

#### 주요 표준
- **JPEG**: 이미지 압축 표준
- **MPEG**: 비디오 압축 표준
- **ASN.1**: 추상 구문 표기법
- **XDR**: 외부 데이터 표현

### 2.2.7 응용 계층 (Application Layer)

#### 주요 기능
- **네트워크 서비스 제공**: 사용자 애플리케이션에 네트워크 서비스 제공
- **사용자 인터페이스**: 사용자와 네트워크 간 인터페이스
- **분산 정보 서비스**: 분산 환경에서의 정보 서비스
- **파일 전송**: 원격 파일 접근 및 전송

#### 주요 프로토콜

**HTTP/HTTPS (HyperText Transfer Protocol)**
- **용도**: 웹 브라우징
- **특징**: 비연결성, 무상태성
- **방법**: GET, POST, PUT, DELETE 등
- **상태 코드**: 200(OK), 404(Not Found), 500(Internal Server Error)

**FTP (File Transfer Protocol)**
- **용도**: 파일 전송
- **특징**: 제어 연결(21번 포트)과 데이터 연결(20번 포트) 분리
- **모드**: Active 모드, Passive 모드

**SMTP (Simple Mail Transfer Protocol)**
- **용도**: 메일 전송
- **특징**: Push 방식
- **포트**: 25번 (일반), 587번 (보안)

**POP3/IMAP**
- **POP3**: 메일 다운로드 후 서버에서 삭제
- **IMAP**: 서버에서 메일 관리, 동기화 지원

**DNS (Domain Name System)**
- **용도**: 도메인 이름을 IP 주소로 변환
- **구조**: 계층적 분산 데이터베이스
- **질의 타입**: A, AAAA, MX, NS, CNAME

**DHCP (Dynamic Host Configuration Protocol)**
- **용도**: 동적 IP 주소 할당
- **과정**: Discover → Offer → Request → ACK
- **임대**: IP 주소 임대 시간 관리

**SNMP (Simple Network Management Protocol)**
- **용도**: 네트워크 관리
- **구조**: Manager-Agent 구조
- **MIB**: 관리 정보 베이스

## 2.3 데이터 캡슐화 과정

### 2.3.1 송신 과정 (Encapsulation)

```
응용 계층: Data
전송 계층: Data + TCP/UDP Header = Segment
네트워크 계층: Segment + IP Header = Packet
데이터링크 계층: Packet + Frame Header + Trailer = Frame
물리 계층: Frame → Bits
```

#### 각 계층에서의 처리
1. **응용 계층**: 사용자 데이터 생성
2. **전송 계층**: 포트 번호 추가, 세그먼트 생성
3. **네트워크 계층**: IP 주소 추가, 패킷 생성
4. **데이터링크 계층**: MAC 주소 추가, 프레임 생성
5. **물리 계층**: 비트 스트림으로 변환하여 전송

### 2.3.2 수신 과정 (Decapsulation)

```
물리 계층: Bits → Frame
데이터링크 계층: Frame → Packet (헤더/트레일러 제거)
네트워크 계층: Packet → Segment (IP 헤더 제거)
전송 계층: Segment → Data (TCP/UDP 헤더 제거)
응용 계층: Data 처리
```

#### 각 계층에서의 처리
1. **물리 계층**: 비트 스트림을 프레임으로 복원
2. **데이터링크 계층**: 프레임 헤더 검사 후 패킷 추출
3. **네트워크 계층**: IP 헤더 검사 후 세그먼트 추출
4. **전송 계층**: 포트 번호 확인 후 데이터 추출
5. **응용 계층**: 최종 데이터 처리

### 2.3.3 PDU (Protocol Data Unit)

각 계층에서 처리되는 데이터 단위:
- **응용 계층**: Message
- **전송 계층**: Segment (TCP) / Datagram (UDP)
- **네트워크 계층**: Packet / Datagram
- **데이터링크 계층**: Frame
- **물리 계층**: Bit

## 2.4 TCP/IP 모델과의 비교

### 2.4.1 TCP/IP 모델 구조

```
OSI 7계층          TCP/IP 4계층
응용 계층    \      
표현 계층     } → 응용 계층
세션 계층    /      
전송 계층     → 전송 계층
네트워크 계층 → 인터넷 계층
데이터링크    \      
물리 계층    /  → 네트워크 접근 계층
```

### 2.4.2 OSI vs TCP/IP 비교

| 특성 | OSI 모델 | TCP/IP 모델 |
|------|----------|-------------|
| 계층 수 | 7계층 | 4계층 |
| 개발 | ISO | DARPA |
| 목적 | 이론적 표준 | 실용적 구현 |
| 프로토콜 독립성 | 높음 | 낮음 |
| 현실 적용 | 참조 모델 | 실제 구현 |

### 2.4.3 각 모델의 장단점

**OSI 모델**
- **장점**: 명확한 계층 분리, 교육적 가치
- **단점**: 복잡성, 실제 구현의 어려움

**TCP/IP 모델**
- **장점**: 실용성, 단순성, 광범위한 채택
- **단점**: 계층 구분 모호, 프로토콜 종속성

## 2.5 실제 네트워크에서의 적용

### 2.5.1 현대 네트워크 스택

실제 네트워크에서는 OSI 모델과 TCP/IP 모델이 혼재:
- **물리/데이터링크**: IEEE 802 표준 (이더넷, Wi-Fi)
- **네트워크**: IP (IPv4/IPv6)
- **전송**: TCP/UDP
- **응용**: HTTP, FTP, SMTP 등

### 2.5.2 계층별 주요 기술 발전

**물리 계층**
- 100Mbps → 1Gbps → 10Gbps → 100Gbps 이더넷
- 광섬유 기술 발전
- 무선 기술 진화 (Wi-Fi 6, 5G)

**데이터링크 계층**
- 스위칭 기술 발전
- VLAN 기술
- QoS 지원

**네트워크 계층**
- IPv4 → IPv6 전환
- MPLS 기술
- SDN (Software Defined Network)

**전송 계층**
- TCP 최적화 (TCP BBR, CUBIC)
- QUIC 프로토콜
- SCTP (Stream Control Transmission Protocol)

**응용 계층**
- HTTP/2, HTTP/3
- 마이크로서비스 아키텍처
- 클라우드 네이티브 프로토콜

## 연습문제

### 객관식 문제

1. OSI 7계층 모델에서 라우팅 기능을 수행하는 계층은?
   ① 데이터링크 계층
   ② 네트워크 계층
   ③ 전송 계층
   ④ 세션 계층

2. TCP와 UDP의 가장 큰 차이점은?
   ① 포트 번호 사용 여부
   ② 연결 지향성과 신뢰성
   ③ 헤더 크기
   ④ 전송 속도

3. 데이터 캡슐화 과정에서 전송 계층의 PDU는?
   ① 패킷
   ② 프레임
   ③ 세그먼트
   ④ 비트

### 주관식 문제

1. OSI 7계층 모델의 각 계층별 주요 기능과 대표적인 프로토콜을 설명하시오.

2. TCP의 3-way handshake 과정을 상세히 설명하고, 각 단계에서 교환되는 플래그와 그 의미를 기술하시오.

3. 데이터 캡슐화와 역캡슐화 과정을 예시를 들어 설명하고, 각 계층에서 추가/제거되는 헤더 정보를 기술하시오.

### 기술사 시험 유형 문제

**문제**: 차세대 네트워크 환경에서 전통적인 OSI 7계층 모델의 한계점을 분석하고, SDN(Software Defined Network)과 NFV(Network Function Virtualization) 환경에서의 새로운 계층 구조를 제안하시오. 또한 5G 네트워크와 엣지 컴퓨팅 환경에서의 프로토콜 스택 변화를 설명하시오.

**답안 작성 요령**:
1. 전통적 OSI 모델의 한계점 분석
2. SDN/NFV 환경에서의 새로운 계층 구조
3. 5G 네트워크 프로토콜 스택
4. 엣지 컴퓨팅 환경에서의 변화
5. 향후 발전 방향

## 핵심 키워드 정리

- **OSI 7계층**: 물리-데이터링크-네트워크-전송-세션-표현-응용
- **캡슐화**: 송신 시 헤더 추가 과정
- **역캡슐화**: 수신 시 헤더 제거 과정
- **PDU**: 각 계층의 데이터 단위
- **TCP**: 연결 지향, 신뢰성 있는 전송 프로토콜
- **UDP**: 비연결 지향, 빠른 전송 프로토콜
- **IP**: 논리적 주소 지정 및 라우팅
- **HTTP**: 웹 서비스 프로토콜
- **3-way handshake**: TCP 연결 설정 과정
- **포트**: 응용 프로그램 식별자

---

**다음 장 preview**: 3장에서는 물리계층과 데이터링크계층의 상세한 기술들, 특히 전송매체의 종류와 특성, 이더넷 표준 및 프레임 구조, 그리고 다양한 스위칭 기술에 대해 학습하겠습니다.

#OSI7계층 #TCP/IP #네트워크프로토콜 #캡슐화 #기술사시험능
1. **비트 전송**: 0과 1의 디지털 신호를 물리적 신호로 변환
2. **전기적 특성**: 전압, 전류, 임피던스 등 정의
3. **기계적 특성**: 커넥터, 핀 배치, 케이블 규격
4. **기능적 특성**: 신호의 의미와 기능 정의
5. **절차적 특성**: 연결 설정 및 해제 절차

#### 관련 기술 및 장비
- **전송 매체**: 동축케이블, UTP, 광섬유
- **네트워크 장비**: 허브, 리피터, 트랜시버
- **표준**: RS-232, V.35, EIA/TIA-568

#### 물리계층 표준
- **IEEE 802.3**: Ethernet 물리계층 표준
- **IEEE 802.11**: 무선 LAN 물리계층 표준
- **ITU-T G.series**: 광통신 표준

### 2.3.2 데이터링크계층 (Data Link Layer)

#### 주요 기능
1. **프레이밍**: 비트 스트림을 프레임 단위로 구성
2. **오류 제어**: 전송 오류 검출 및 수정
3. **흐름 제어**: 송신자와 수신자 간 속도 조절
4. **접근 제어**: 공유 매체에 대한 접근 제어

#### 부계층 구조
**LLC (Logical Link Control)**:
- 상위 계층과의 인터페이스 제공
- 오류 제어 및 흐름 제어
- IEEE 802.2 표준

**MAC (Media Access Control)**:
- 물리적 주소 (MAC Address) 관리
- 매체 접근 제어
- 프레임 전송 제어

#### 관련 프로토콜 및 장비
- **프로토콜**: Ethernet, PPP, HDLC
- **네트워크 장비**: 스위치, 브리지
- **주소**: MAC 주소 (48비트)

#### 오류 제어 방법
1. **오류 검출**:
   - Parity Check
   - CRC (Cyclic Redundancy Check)
   - Checksum

2. **오류 수정**:
   - ARQ (Automatic Repeat Request)
   - Stop-and-Wait ARQ
   - Go-Back-N ARQ
   - Selective Repeat ARQ

### 2.3.3 네트워크계층 (Network Layer)

#### 주요 기능
1. **라우팅**: 최적 경로 선택
2. **논리적 주소 지정**: IP 주소 관리
3. **패킷 전달**: 패킷의 중계 및 전달
4. **혼잡 제어**: 네트워크 혼잡 방지

#### 핵심 개념
**라우팅 (Routing)**:
- 정적 라우팅 (Static Routing)
- 동적 라우팅 (Dynamic Routing)
- 거리 벡터 알고리즘
- 링크 상태 알고리즘

**주소 체계**:
- IPv4: 32비트 주소
- IPv6: 128비트 주소
- 서브네팅과 CIDR

#### 관련 프로토콜 및 장비
- **프로토콜**: IP, ICMP, ARP, OSPF, BGP
- **네트워크 장비**: 라우터, L3 스위치
- **서비스**: 비연결 서비스 (Connectionless)

### 2.3.4 전송계층 (Transport Layer)

#### 주요 기능
1. **종단간 통신**: End-to-End 통신 제공
2. **신뢰성 보장**: 오류 복구 및 순서 제어
3. **흐름 제어**: 송수신자 간 속도 조절
4. **다중화**: 여러 응용 프로그램 동시 지원

#### 서비스 유형
**연결 지향 서비스 (Connection-Oriented)**:
- TCP (Transmission Control Protocol)
- 신뢰성 있는 데이터 전송
- 순서 보장, 오류 복구

**비연결 서비스 (Connectionless)**:
- UDP (User Datagram Protocol)
- 빠른 전송, 간단한 구조
- 신뢰성 보장 없음

#### TCP의 주요 특징
1. **3-Way Handshake**: 연결 설정
2. **슬라이딩 윈도우**: 흐름 제어
3. **재전송 타이머**: 오류 복구
4. **혼잡 제어**: 네트워크 혼잡 방지

### 2.3.5 세션계층 (Session Layer)

#### 주요 기능
1. **세션 관리**: 세션 설정, 유지, 종료
2. **대화 제어**: Half-duplex, Full-duplex 제어
3. **동기화**: 체크포인트를 통한 동기화
4. **인증**: 사용자 인증 및 권한 관리

#### 세션 관리 과정
1. **세션 설정** (Session Establishment)
2. **데이터 전송** (Data Transfer)
3. **세션 종료** (Session Termination)

#### 관련 프로토콜
- **NetBIOS**: PC 네트워크 세션 관리
- **RPC**: 원격 프로시저 호출
- **SQL**: 데이터베이스 세션 관리

### 2.3.6 표현계층 (Presentation Layer)

#### 주요 기능
1. **데이터 표현**: 데이터 형식 변환
2. **암호화/복호화**: 보안 기능 제공
3. **압축/해제**: 데이터 압축으로 효율성 향상
4. **문자 코드 변환**: ASCII, EBCDIC 등 변환

#### 데이터 표현 방식
**구문 (Syntax)**:
- 데이터 구조 정의
- ASN.1 (Abstract Syntax Notation One)

**의미 (Semantics)**:
- 데이터 의미 정의
- 문맥 정보 제공

#### 관련 기술
- **암호화**: SSL/TLS, DES, AES
- **압축**: JPEG, MPEG, ZIP
- **문자 인코딩**: UTF-8, UTF-16

### 2.3.7 응용계층 (Application Layer)

#### 주요 기능
1. **사용자 인터페이스**: 최종 사용자 서비스 제공
2. **네트워크 서비스**: 네트워크 자원 접근
3. **응용 프로세스**: 분산 정보 처리
4. **서비스 품질**: QoS 관리

#### 주요 응용 프로토콜

**웹 서비스**:
- HTTP/HTTPS: 웹 페이지 전송
- HTML: 웹 페이지 작성 언어

**파일 전송**:
- FTP: 파일 전송 프로토콜
- TFTP: 간단한 파일 전송 프로토콜

**전자메일**:
- SMTP: 메일 송신 프로토콜
- POP3/IMAP: 메일 수신 프로토콜

**원격 접속**:
- Telnet: 원격 터미널 접속
- SSH: 보안 원격 접속

**이름 서비스**:
- DNS: 도메인 이름 서비스
- DHCP: 동적 IP 주소 할당

---

## 2.4 계층간 데이터 전송 과정

### 2.4.1 데이터 캡슐화 (Data Encapsulation)

송신측에서 데이터가 각 계층을 거치면서 헤더가 추가되는 과정:

```
[응용계층]    데이터 (Data)
     ↓
[표현계층]    데이터 (Data)
     ↓  
[세션계층]    데이터 (Data)
     ↓
[전송계층]    TCP헤더 + 데이터 → 세그먼트 (Segment)
     ↓
[네트워크계층] IP헤더 + 세그먼트 → 패킷 (Packet)
     ↓
[데이터링크계층] 프레임헤더 + 패킷 + 트레일러 → 프레임 (Frame)
     ↓
[물리계층]    프레임을 비트스트림으로 변환 → 비트 (Bit)
```

### 2.4.2 데이터 역캡슐화 (Data Decapsulation)

수신측에서 각 계층을 거치면서 헤더가 제거되는 과정:

```
[물리계층]    비트스트림을 프레임으로 변환
     ↓
[데이터링크계층] 프레임 헤더/트레일러 제거 → 패킷
     ↓
[네트워크계층] IP 헤더 제거 → 세그먼트
     ↓
[전송계층]    TCP 헤더 제거 → 데이터
     ↓
[세션계층]    데이터 (Data)
     ↓
[표현계층]    데이터 (Data)
     ↓
[응용계층]    데이터 (Data)
```

### 2.4.3 각 계층별 PDU (Protocol Data Unit)

| 계층 | PDU 이름 | 구성 요소 |
|------|----------|-----------|
| 응용계층 | 데이터 (Data) | 사용자 데이터 |
| 표현계층 | 데이터 (Data) | 변환된 데이터 |
| 세션계층 | 데이터 (Data) | 세션 정보 + 데이터 |
| 전송계층 | 세그먼트 (Segment) | TCP/UDP 헤더 + 데이터 |
| 네트워크계층 | 패킷 (Packet) | IP 헤더 + 세그먼트 |
| 데이터링크계층 | 프레임 (Frame) | 프레임 헤더 + 패킷 + 트레일러 |
| 물리계층 | 비트 (Bit) | 전기적 신호 |

---

## 2.5 TCP/IP 모델과의 비교

### 2.5.1 TCP/IP 모델 구조

| TCP/IP 계층 | OSI 해당 계층 | 주요 프로토콜 |
|-------------|---------------|---------------|
| 응용계층 | 5, 6, 7계층 | HTTP, FTP, SMTP, DNS |
| 전송계층 | 4계층 | TCP, UDP |
| 인터넷계층 | 3계층 | IP, ICMP, ARP |
| 네트워크 접근계층 | 1, 2계층 | Ethernet, Wi-Fi |

### 2.5.2 OSI vs TCP/IP 비교

#### OSI 모델의 장점
- **체계적 구조**: 7계층으로 세분화된 구조
- **표준화**: 국제 표준으로 인정
- **교육적 가치**: 네트워크 이해에 적합
- **프로토콜 독립**: 각 계층별 독립적 구현

#### TCP/IP 모델의 장점
- **실용성**: 실제 인터넷에서 사용
- **단순성**: 4계층으로 간소화
- **성능**: 효율적인 구현
- **호환성**: 기존 시스템과의 호환성

### 2.5.3 계층별 매핑

**상위 계층 (OSI 5-7계층 → TCP/IP 응용계층)**:
- 세션, 표현, 응용 기능을 하나로 통합
- 응용 프로그램에서 직접 구현

**중간 계층 (OSI 3-4계층 → TCP/IP 인터넷/전송계층)**:
- 거의 동일한 기능과 구조
- TCP/UDP와 IP 프로토콜 사용

**하위 계층 (OSI 1-2계층 → TCP/IP 네트워크 접근계층)**:
- 물리적 전송과 데이터링크 기능 통합
- 하드웨어 종속적 구현

---

## 2.6 캡슐화와 역캡슐화

### 2.6.1 캡슐화 과정의 상세 분석

#### 응용계층에서 전송계층
```
HTTP Request: GET /index.html HTTP/1.1
Host: www.example.com

↓ (전송계층에서 TCP 헤더 추가)

TCP Header + HTTP Request → TCP 세그먼트
```

#### 전송계층에서 네트워크계층
```
TCP 세그먼트

↓ (네트워크계층에서 IP 헤더 추가)

IP Header + TCP 세그먼트 → IP 패킷
```

#### 네트워크계층에서 데이터링크계층
```
IP 패킷

↓ (데이터링크계층에서 Ethernet 헤더/트레일러 추가)

Ethernet Header + IP 패킷 + Ethernet Trailer → Ethernet 프레임
```

### 2.6.2 헤더 정보 분석

#### TCP 헤더 구조
- **포트 번호**: 응용 프로그램 식별
- **순서 번호**: 데이터 순서 보장
- **확인 번호**: 수신 확인
- **제어 플래그**: SYN, ACK, FIN 등

#### IP 헤더 구조
- **버전**: IPv4/IPv6 구분
- **헤더 길이**: IP 헤더 크기
- **서비스 타입**: QoS 정보
- **전체 길이**: 패킷 전체 크기
- **TTL**: 패킷 생존 시간
- **프로토콜**: 상위 계층 프로토콜 식별
- **출발지/목적지 주소**: IP 주소

#### Ethernet 헤더 구조
- **목적지 MAC 주소**: 수신자 물리 주소
- **출발지 MAC 주소**: 송신자 물리 주소
- **타입**: 상위 계층 프로토콜 타입
- **FCS**: 프레임 체크 시퀀스

---

## 연습문제

### 객관식 문제

1. OSI 7계층 모델에서 라우팅 기능을 담당하는 계층은?
   a) 데이터링크계층
   b) 네트워크계층
   c) 전송계층
   d) 세션계층

2. TCP/IP 모델과 OSI 모델의 차이점이 아닌 것은?
   a) TCP/IP는 4계층, OSI는 7계층
   b) TCP/IP는 실무 중심, OSI는 이론 중심
   c) TCP/IP는 연결 지향, OSI는 비연결 지향
   d) TCP/IP는 인터넷 표준, OSI는 ISO 표준

3. 데이터 캡슐화 과정에서 네트워크계층의 PDU는?
   a) 프레임 (Frame)
   b) 패킷 (Packet)
   c) 세그먼트 (Segment)
   d) 비트 (Bit)

4. 다음 중 전송계층 프로토콜이 아닌 것은?
   a) TCP
   b) UDP
   c) IP
   d) SCTP

5. OSI 모델에서 암호화 기능을 담당하는 계층은?
   a) 응용계층
   b) 표현계층
   c) 세션계층
   d) 전송계층

### 주관식 문제

1. OSI 7계층 모델의 각 계층별 주요 기능을 설명하시오.

2. 데이터 캡슐화와 역캡슐화 과정을 단계별로 설명하시오.

3. TCP와 UDP의 차이점을 비교하여 설명하시오.

4. 각 계층별 대표적인 네트워크 장비를 나열하고 그 기능을 설명하시오.

### 서술형 문제

1. OSI 모델과 TCP/IP 모델의 차이점을 비교하고, 각각의 장단점을 설명하시오.

2. 웹 브라우저에서 웹 서버로 HTTP 요청을 보낼 때, OSI 7계층에서 일어나는 과정을 상세히 설명하시오.

3. 네트워크 장애 발생 시 OSI 7계층 모델을 이용한 체계적인 문제 해결 방법을 제시하시오.

### 실무 응용 문제

1. 기업 네트워크에서 성능 저하가 발생했을 때, OSI 계층별로 확인해야 할 항목들을 제시하시오.

2. 새로운 네트워크 프로토콜을 설계할 때 OSI 모델을 어떻게 활용할 수 있는지 설명하시오.

---

## 참고자료

### 추천 도서
- "Computer Networks" - Andrew S. Tanenbaum
- "TCP/IP Illustrated" - W. Richard Stevens
- "OSI 참조 모델의 이해" - 한국정보통신기술협회

### 관련 표준
- ISO/IEC 7498-1: OSI 참조 모델
- RFC 1122: 인터넷 호스트 요구사항
- IEEE 802 시리즈: LAN/MAN 표준

### 실습 도구
- Wireshark: 패킷 분석 도구
- Cisco Packet Tracer: 네트워크 시뮬레이터
- GNS3: 네트워크 에뮬레이터

### 다음 차시 예고
[[03-물리계층과-데이터링크계층]] - 물리계층과 데이터링크계층의 상세 기술과 프로토콜에 대해 학습

---

#OSI모델 #TCP_IP #네트워크계층 #프로토콜 #캡슐화 #기술사시험
